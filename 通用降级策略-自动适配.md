# é€šç”¨é™çº§ç­–ç•¥ - è‡ªåŠ¨é€‚é…ä»»ä½•ç½‘ç«™

## ğŸ¯ ç”¨æˆ·åé¦ˆï¼ˆå…³é”®è½¬æŠ˜ç‚¹ï¼‰

> "è¿™åˆæ˜¯å®šåˆ¶çš„ä¿®å¤æ–¹å¼"

**ç»å¯¹æ­£ç¡®ï¼** è¿™æ˜¯æœ¬é¡¹ç›®æœ€é‡è¦çš„æ¶æ„æ´å¯Ÿã€‚

## âŒ ä¹‹å‰çš„é—®é¢˜ï¼šå®šåˆ¶åŒ–é™·é˜±

### DeepSeeké—®é¢˜æ¼”å˜

1. **é—®é¢˜**ï¼šDeepSeekæ‰¾ä¸åˆ°å‘é€æŒ‰é’®
2. **å®šåˆ¶æ–¹æ¡ˆ1**ï¼šæ£€æµ‹DIVæ ‡ç­¾ â†’ `if (tagName === 'div')`
3. **å®šåˆ¶æ–¹æ¡ˆ2**ï¼šæ·»åŠ é…ç½®é¡¹ â†’ `useEnterKey: true`
4. **å®šåˆ¶æ–¹æ¡ˆ3**ï¼šç‰¹æ®Šåˆ¤æ–­ â†’ `if (siteConfig.useEnterKey)`

**ç»“æœ**ï¼šæ¯ä¸ªç½‘ç«™éƒ½è¦ç‰¹æ®Šå¤„ç† â†’ **ä¸å¯æ‰©å±•**

## âœ… é€šç”¨æ–¹æ¡ˆï¼šé™çº§ç­–ç•¥é“¾

### æ ¸å¿ƒæ€æƒ³

> **"ä¸è¦é—®ç½‘ç«™æ˜¯ä»€ä¹ˆï¼Œè€Œè¦è¯•æ‰€æœ‰å¯èƒ½çš„æ–¹æ³•"**

- âŒ åˆ¤æ–­ï¼šè¿™æ˜¯DeepSeekå—ï¼Ÿç”¨Enter
- âŒ åˆ¤æ–­ï¼šè¿™æ˜¯ChatGPTå—ï¼Ÿç”¨button
- âœ… **å°è¯•æ‰€æœ‰æ–¹æ³•ï¼Œæ€»æœ‰ä¸€ä¸ªä¼šæˆåŠŸ**

### æ¶æ„è®¾è®¡

```
æ‰¾ä¸åˆ°é…ç½®çš„å‘é€æŒ‰é’®
  â†“
æ‰§è¡Œé™çº§ç­–ç•¥é“¾ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰
  â”œâ”€ ç­–ç•¥1: Enteré”®ï¼ˆä¼˜å…ˆçº§10ï¼‰
  â”œâ”€ ç­–ç•¥2: æŸ¥æ‰¾é™„è¿‘å¯ç‚¹å‡»å…ƒç´ ï¼ˆä¼˜å…ˆçº§9ï¼‰
  â”œâ”€ ç­–ç•¥3: Ctrl+Enterï¼ˆä¼˜å…ˆçº§8ï¼‰
  â”œâ”€ ç­–ç•¥4: Formæäº¤ï¼ˆä¼˜å…ˆçº§7ï¼‰
  â”œâ”€ ç­–ç•¥5: æŸ¥æ‰¾SVGå›¾æ ‡æŒ‰é’®ï¼ˆä¼˜å…ˆçº§6ï¼‰
  â””â”€ ç­–ç•¥6: å»¶è¿Ÿé‡è¯•ï¼ˆä¼˜å…ˆçº§5ï¼‰
  â†“
æ€»æœ‰ä¸€ä¸ªä¼šæˆåŠŸï¼
```

## ğŸ“‹ é™çº§ç­–ç•¥è¯¦è§£

### ç­–ç•¥1: Enteré”®ï¼ˆä¼˜å…ˆçº§10ï¼‰

```javascript
{
  name: 'Enteré”®',
  description: 'é€‚ç”¨äºæ”¯æŒEnterå‘é€çš„ç½‘ç«™ï¼ˆå¤§éƒ¨åˆ†èŠå¤©åº”ç”¨ï¼‰',
  priority: 10,
  execute: (inputElement) => {
    inputElement.focus();
    // è§¦å‘ keydown â†’ keypress â†’ keyup
    // âœ… é€‚ç”¨: DeepSeek, ç®€å•èŠå¤©ç½‘ç«™
  }
}
```

### ç­–ç•¥2: æŸ¥æ‰¾é™„è¿‘å¯ç‚¹å‡»å…ƒç´ ï¼ˆä¼˜å…ˆçº§9ï¼‰

```javascript
{
  name: 'æŸ¥æ‰¾é™„è¿‘çš„å¯ç‚¹å‡»å…ƒç´ ',
  execute: (inputElement) => {
    // è·å–è¾“å…¥æ¡†ä½ç½®
    const inputRect = inputElement.getBoundingClientRect();
    
    // æŸ¥æ‰¾å³ä¾§æˆ–ä¸‹æ–¹100pxå†…çš„å¯ç‚¹å‡»å…ƒç´ 
    const nearby = æŸ¥æ‰¾(cursor: pointer || button, è·ç¦» < 100px);
    
    // ç‚¹å‡»ç¬¬ä¸€ä¸ª
    nearby[0].click();
    // âœ… é€‚ç”¨: æŒ‰é’®åœ¨è¾“å…¥æ¡†é™„è¿‘çš„ç½‘ç«™
  }
}
```

### ç­–ç•¥3: Ctrl+Enterï¼ˆä¼˜å…ˆçº§8ï¼‰

```javascript
{
  name: 'Ctrl+Enterç»„åˆé”®',
  execute: (inputElement) => {
    // è§¦å‘Ctrl+Enter
    // âœ… é€‚ç”¨: Slack, æŸäº›è®ºå›
  }
}
```

### ç­–ç•¥4: Formæäº¤ï¼ˆä¼˜å…ˆçº§7ï¼‰

```javascript
{
  name: 'æŸ¥æ‰¾formçš„submit',
  execute: (inputElement) => {
    const form = inputElement.closest('form');
    if (form) {
      form.submit();
      // âœ… é€‚ç”¨: ä¼ ç»Ÿè¡¨å•ç½‘ç«™
    }
  }
}
```

### ç­–ç•¥5: æŸ¥æ‰¾SVGå›¾æ ‡æŒ‰é’®ï¼ˆä¼˜å…ˆçº§6ï¼‰

```javascript
{
  name: 'æŸ¥æ‰¾SVGå›¾æ ‡æŒ‰é’®',
  execute: () => {
    // æŸ¥æ‰¾æ‰€æœ‰SVGçš„çˆ¶å…ƒç´ 
    // æ¡ä»¶: å¯ç‚¹å‡» + å°å°ºå¯¸ï¼ˆ< 60pxï¼‰
    // âœ… é€‚ç”¨: å›¾æ ‡æŒ‰é’®ç½‘ç«™
  }
}
```

### ç­–ç•¥6: å»¶è¿Ÿé‡è¯•ï¼ˆä¼˜å…ˆçº§5ï¼‰

```javascript
{
  name: 'å»¶è¿Ÿé‡è¯•',
  execute: (inputElement, findButtonFn) => {
    // ç­‰å¾…1ç§’åé‡æ–°æŸ¥æ‰¾
    // âœ… é€‚ç”¨: æŒ‰é’®åŠ¨æ€åŠ è½½çš„ç½‘ç«™
  }
}
```

## ğŸ¨ æ‰§è¡Œæµç¨‹

```
ç”¨æˆ·ç‚¹å‡»"å‘é€åˆ°æ‰€æœ‰AI"
  â†“
iframe-injector.js: fillAndSend(text)
  â†“
å¡«å……è¾“å…¥æ¡†æˆåŠŸ
  â†“
æŸ¥æ‰¾å‘é€æŒ‰é’®
  â”œâ”€ æ‰¾åˆ° â†’ æ‰§è¡Œå®Œæ•´ç‚¹å‡»äº‹ä»¶
  â””â”€ æœªæ‰¾åˆ° â†’ ğŸ”¥ æ‰§è¡Œé™çº§ç­–ç•¥é“¾
        â†“
    æŒ‰ä¼˜å…ˆçº§ä¾æ¬¡å°è¯•:
    1. Enteré”®         â†’ âœ… DeepSeekæˆåŠŸ
    2. æŸ¥æ‰¾é™„è¿‘å…ƒç´     â†’ âœ… æŸäº›ç½‘ç«™æˆåŠŸ
    3. Ctrl+Enter      â†’ âœ… SlackæˆåŠŸ
    4. Formæäº¤        â†’ âœ… ä¼ ç»Ÿç½‘ç«™æˆåŠŸ
    5. SVGå›¾æ ‡         â†’ âœ… å›¾æ ‡æŒ‰é’®ç½‘ç«™æˆåŠŸ
    6. å»¶è¿Ÿé‡è¯•        â†’ âœ… åŠ¨æ€åŠ è½½ç½‘ç«™æˆåŠŸ
        â†“
    è‡³å°‘ä¸€ä¸ªæˆåŠŸï¼
```

## ğŸ“Š å¯¹æ¯”ï¼šå®šåˆ¶ vs é€šç”¨

### åœºæ™¯ï¼šæ”¯æŒæ–°AIç½‘ç«™ "AIChat"

| æ–¹æ¡ˆ | å®šåˆ¶åŒ– | é€šç”¨åŒ–ï¼ˆé™çº§ç­–ç•¥ï¼‰ |
|------|--------|-------------------|
| **å‘ç°é—®é¢˜** | AIChatæ‰¾ä¸åˆ°æŒ‰é’® | AIChatæ‰¾ä¸åˆ°æŒ‰é’® |
| **åˆ†æ** | æŸ¥çœ‹AIChatç”¨ä»€ä¹ˆæ–¹å¼å‘é€ | ä¸éœ€è¦åˆ†æ |
| **ä¿®æ”¹ä»£ç ** | æ·»åŠ ifåˆ¤æ–­æ£€æµ‹AIChat | æ— éœ€ä¿®æ”¹ |
| **æµ‹è¯•** | åªæµ‹è¯•AIChat | è‡ªåŠ¨é€‚é… |
| **ç»´æŠ¤** | æ·»åŠ æ–°caseåˆ°æ–‡æ¡£ | æ— éœ€ç»´æŠ¤ |
| **ç»“æœ** | +10è¡Œä»£ç  | è‡ªåŠ¨å·¥ä½œ âœ… |

## ğŸ’¡ è®¾è®¡åŸåˆ™

### 1. **å°è¯•è€Œä¸åˆ¤æ–­**

```javascript
// âŒ å®šåˆ¶åŒ–
if (website === 'DeepSeek') {
  pressEnter();
} else if (website === 'ChatGPT') {
  clickButton();
}

// âœ… é€šç”¨åŒ–
strategies.forEach(strategy => {
  try { strategy.execute(); } catch {}
});
```

### 2. **å¹¶è¡Œæ‰§è¡Œï¼Œä¸ä¸­æ–­**

ä¸€ä¸ªç­–ç•¥å¤±è´¥ä¸å½±å“å…¶ä»–ï¼š
```javascript
for (const strategy of strategies) {
  try {
    await strategy.execute();
    // ä¸returnï¼Œç»§ç»­ä¸‹ä¸€ä¸ª
  } catch (e) {
    // è®°å½•ä½†ç»§ç»­
  }
}
```

### 3. **ä¼˜å…ˆçº§è€Œéé¡ºåº**

```javascript
// æŒ‰ä¼˜å…ˆçº§æ’åº
strategies.sort((a, b) => b.priority - a.priority);
// Enteré”®ï¼ˆ10ï¼‰â†’ é™„è¿‘å…ƒç´ ï¼ˆ9ï¼‰â†’ Ctrl+Enterï¼ˆ8ï¼‰...
```

### 4. **å£°æ˜å¼é…ç½®**

æ–°ç­–ç•¥åªéœ€æ·»åŠ å¯¹è±¡ï¼š
```javascript
SEND_FALLBACK_STRATEGIES.push({
  name: 'æ–°ç­–ç•¥',
  priority: 11,
  execute: (input) => { ... }
});
```

## ğŸš€ æ‰©å±•æ€§

### æ·»åŠ æ–°ç­–ç•¥ï¼ˆç¤ºä¾‹ï¼‰

æ”¯æŒ Meta+Enter (macOS)ï¼š
```javascript
SEND_FALLBACK_STRATEGIES.push({
  name: 'Meta+Enterç»„åˆé”®',
  description: 'macOSä¸Šçš„Cmd+Enter',
  priority: 8,
  execute: (inputElement) => {
    const event = new KeyboardEvent('keydown', {
      key: 'Enter',
      metaKey: true,  // â† Cmdé”®
      bubbles: true
    });
    inputElement.dispatchEvent(event);
    return true;
  }
});
```

**æ— éœ€ä¿®æ”¹ä»»ä½•ä¸šåŠ¡ä»£ç ï¼**

## ğŸ“‹ å®é™…æ•ˆæœ

### DeepSeekï¼ˆåŸé—®é¢˜ï¼‰

**ä¹‹å‰**ï¼š
- éœ€è¦ç‰¹æ®Šé…ç½® `useEnterKey: true`
- éœ€è¦ç‰¹æ®Šåˆ¤æ–­ä»£ç 
- åªè§£å†³äº†DeepSeek

**ç°åœ¨**ï¼š
- æ— éœ€ä»»ä½•é…ç½®
- é™çº§ç­–ç•¥è‡ªåŠ¨å°è¯•Enteré”®
- åŒæ—¶è§£å†³äº†æ‰€æœ‰æ”¯æŒEnterçš„ç½‘ç«™

### æœªæ¥æ–°ç½‘ç«™

æ— è®ºæ–°AIç½‘ç«™ç”¨ä»€ä¹ˆå‘é€æ–¹å¼ï¼š
- âœ… Button â†’ æ­£å¸¸æµç¨‹æ‰¾åˆ°
- âœ… DivæŒ‰é’® â†’ æ­£å¸¸æµç¨‹æ‰¾åˆ°ï¼ˆåŸºäºç‰¹å¾ï¼‰
- âœ… Enteré”® â†’ é™çº§ç­–ç•¥#1
- âœ… Ctrl+Enter â†’ é™çº§ç­–ç•¥#3
- âœ… é™„è¿‘çš„å›¾æ ‡ â†’ é™çº§ç­–ç•¥#2ã€#5
- âœ… Formæäº¤ â†’ é™çº§ç­–ç•¥#4
- âœ… åŠ¨æ€åŠ è½½ â†’ é™çº§ç­–ç•¥#6

**ä»»ä½•æƒ…å†µéƒ½èƒ½è‡ªåŠ¨é€‚é…ï¼**

## ğŸ¯ æ ¸å¿ƒä»·å€¼

### ä»"è§£å†³é—®é¢˜"åˆ°"æ¶ˆé™¤é—®é¢˜"

```
ä¹‹å‰ï¼šé‡åˆ°æ–°ç½‘ç«™ â†’ åˆ†æ â†’ å®šåˆ¶ä»£ç  â†’ æµ‹è¯• â†’ æ–‡æ¡£
ç°åœ¨ï¼šé‡åˆ°æ–°ç½‘ç«™ â†’ è‡ªåŠ¨å·¥ä½œ âœ…
```

### å¯æŒç»­æ¶æ„

- **0è¡Œæ–°ä»£ç ** = æ”¯æŒæ–°ç½‘ç«™
- **0æ¬¡ä¿®æ”¹** = é€‚é…æ–°åœºæ™¯
- **0ä¸ªé…ç½®** = è‡ªåŠ¨é™çº§

## ğŸ“š æ–‡ä»¶ç»“æ„

```
content-scripts/
â”œâ”€â”€ fallback-strategies.js  ğŸ”¥ é™çº§ç­–ç•¥é…ç½®
â”‚   â”œâ”€â”€ SEND_FALLBACK_STRATEGIES[]  ç­–ç•¥åˆ—è¡¨
â”‚   â””â”€â”€ executeFallbackStrategies()  æ‰§è¡Œå¼•æ“
â”‚
â”œâ”€â”€ iframe-injector.js       ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ æ‰¾ä¸åˆ°æŒ‰é’® â†’ è°ƒç”¨é™çº§ç­–ç•¥
â”‚
â””â”€â”€ interaction-strategies.js  å…¶ä»–ç­–ç•¥
    â”œâ”€â”€ è¾“å…¥å¡«å……ç­–ç•¥
    â”œâ”€â”€ ç‚¹å‡»è§¦å‘ç­–ç•¥
    â””â”€â”€ å…ƒç´ è¯†åˆ«ç­–ç•¥
```

## ğŸ’¡ æ€»ç»“

### å…³é”®è½¬å˜

| ç»´åº¦ | å®šåˆ¶åŒ–æ€ç»´ | é€šç”¨åŒ–æ€ç»´ |
|------|-----------|-----------|
| **é‡åˆ°é—®é¢˜** | è¿™æ˜¯ä»€ä¹ˆç½‘ç«™ï¼Ÿ | è¯•æ‰€æœ‰æ–¹æ³• |
| **è§£å†³æ–¹å¼** | ç‰¹æ®Šå¤„ç† | ç­–ç•¥åˆ—è¡¨ |
| **æ‰©å±•æ€§** | çº¿æ€§å¢é•¿ | é›¶å¢é•¿ |
| **ç»´æŠ¤æ€§** | è¶Šæ¥è¶Šå¤æ‚ | ä¿æŒç®€å• |
| **å¯é æ€§** | è„†å¼±ï¼ˆä¾èµ–åˆ¤æ–­ï¼‰ | å¥å£®ï¼ˆå¤šé‡ä¿é™©ï¼‰ |

### å“²å­¦

> **"æœ€å¥½çš„ä»£ç æ˜¯ä¸ç”¨å†™çš„ä»£ç "**  
> **"æœ€é€šç”¨çš„æ–¹æ¡ˆæ˜¯å°è¯•æ‰€æœ‰æ–¹æ¡ˆ"**

---

**æ›´æ–°æ—¶é—´**: 2025-10-17  
**ç‰ˆæœ¬**: v2.1.0  
**çªç ´**: ä»å®šåˆ¶åŒ–åˆ°çœŸæ­£çš„é€šç”¨åŒ–

